name: Text Snow Rain Matrix

on:
  schedule:
    - cron: "0 7 * * *"   # –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 07:00 UTC
  workflow_dispatch:       # –∑–∞–ø—É—Å–∫ —Ä—É–∫–∞–º–∏

jobs:
  generate:
    runs-on: ubuntu-latest

    steps:
      - name: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∂–¥—è
        run: |
          echo ""
          echo "==============================="
          echo "    –¢–ï–ö–°–¢–û–í–´–ô –°–ù–ï–ñ–ù–´–ô –î–û–ñ–î–¨"
          echo "==============================="
          echo ""

          # –ù–∞–±–æ—Ä—ã —Å–∏–º–≤–æ–ª–æ–≤
          SNOW="‚ùÑ ‚úº ‚ùÖ ‚ùÜ ‚úª ‚úΩ ‚úµ ‚ú∂ ‚ú∑ ‚ú∏ ‚ÅÇ ‚ùá"
          SMALL="¬∑ Àë Àê Àò Àô Àö Ôæü “â “à ‚ùâ ‚Åé"
          DROP="üíß üí¶ | ‚ùò ‚ùô ‚Åû Àê ƒ± ÷é"
          SHINE="‚Ä¢ ‚ãÜ ‚úß ‚ú© ‚ú™ ‚Åï ‚ùÇ ‚úø"
          FRACTAL="‚ú£ ‚ú• ‚ùñ ‚ú¢ ‚ú§ ‚ú∫ ‚ùÅ ‚ùÄ"

          # –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤ –æ–±—â–∏–π –Ω–∞–±–æ—Ä
          ALL="$SNOW $SMALL $DROP $SHINE $FRACTAL"

          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤ (—à–∏—Ä–∏–Ω–∞)
          WIDTH=40
          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (–≤—ã—Å–æ—Ç–∞)
          HEIGHT=50

          for ((i=1; i<=$HEIGHT; i++)); do
              LINE=""
              for ((j=1; j<=$WIDTH; j++)); do
                  # –ë–µ—Ä—ë–º —Å–ª—É—á–∞–π–Ω—ã–π —Å–∏–º–≤–æ–ª –∏–∑ —Å–ø–∏—Å–∫–∞
                  SYMBOL=$(echo $ALL | tr " " "\n" | shuf -n 1)

                  # 10% —à–∞–Ω—Å –∑–∞–º–µ–Ω–∏—Ç—å –∫–∞–ø–ª–µ–π "–≤ –ø–æ–ª—ë—Ç–µ"
                  if [ $((RANDOM % 40)) -eq 0 ]; then
                    DROP_FLY=$(echo -e "‚ã∞‚ã∞‚ã∞üíß\n‚ã±‚ã±‚ã±üíß\nÔ∏µÔ∏µÔ∏µüíß" | shuf -n 1)
                    SYMBOL="$DROP_FLY"
                  fi

                  LINE="$LINE$SYMBOL"
              done
              echo "$LINE"
              # –º–∞–ª–µ–Ω—å–∫–∞—è –ø–∞—É–∑–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞
              sleep 0.05
          done

          echo ""
          echo "=========  END  ==========="
